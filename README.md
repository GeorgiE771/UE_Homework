# Glitch Arena

Максимов Евгений Владимирович

**Glitch Arena** — это динамичная шутерная игра от первого лица, разработанная на **Unreal Engine 5**, в которой игрок сражается с враждебными дронами в процедурно генерируемых комнатах. Цель игры — пройти через несколько арен, избегая ловушек и выбирая путь, ведущий к финальному боссу, ГлавГлюку.

## Особенности

- **Управление от первого лица** с поддержкой движения, прыжков и стрельбы.
- **Процедурная генерация арен** с разной сложностью.
- **Разнообразные враги** с уникальным поведением и атаками.
- **Визуальные эффекты** Niagara и Camera Shake для усиления атмосферы.

---

## Игровые механики

### Управление и HUD
- Используется шаблон **Variant Shooter (UE5)**.
- Игрок может:
  - **Двигаться, прыгать, стрелять**.
  - **Получать урон и умирать**.
  - Видеть **здоровье и количество патронов** на экране (HUD).

### Процедурная генерация комнат
- В начале игры определяется количество арен: **количество фиксировано и указывается в Dungeon manager**.
- После **очистки арены** игроку доступны **2 портала на выбор**: обычный или сложный путь **(портал слева - обычный, справа - сложный)**.
- Каждая арена выбирается из пула **Blueprint комнат** с соответствующей сложностью (По 1 блупринту на обычную и сложную комнаты, но реализован функционал на увеличение количества).
- Последняя арена содержит **финального босса** — **ГлавГлюка**.

### Враги

#### 1. Глюк Дрон
- **Патрулирует комнату** по случайным точкам.
- При обнаружении игрока переходит в режим **преследования и атаки**.
- После уничтожения **дропает случайный лут**.

#### 2. Босс ГлавГлюк
- **Крупный дрон**, обладающий мощной атакой — **энергетическими сериями**.
- После уничтожения — **игра завершена** (победа).

### Боевая система
- Игрок вооружён **Cabbage Blaster** — бластером, стреляющим **энергетическими сферами**.
- **Патроны ограничены** и пополняются через дроп с врагов.
- У врагов реализованы состояния ИИ:
  - **Patrol** — патрулирование.
  - **Chase** — преследование.
  - **Attack** — атака.

### Параметры сложности
- Различия между комнатами:
  - **Количество врагов**

---

## Дополнительные задачи

1. **Camera Shake и эффекты Niagara** — для усиления визуального и физического ощущения
  1. **Camera Shake** срабатывает при получении персонажем урона
  2. **Эффект Niagara Firework** срабатывает при победе над финальным боссом
4. **Баффы и дебаффы** для игрока: **увеличение и уменьшение скорости передвижения героя**.
  1. Выпадают **случайно**: либо патроны, либо баф, либо дебаф

---

## Технические детали

- **Движок**: Unreal Engine 5
- **Язык программирования**: Blueprint (с возможностью расширения на C++)
- **Система анимации**: использует шаблон First Person
- **UI**: виджеты HUD

---

## Установка и запуск

1. Склонируйте репозиторий.
2. Откройте проект в **Unreal Engine 5**.
3. Запустите уровень `ProcGenRoom/Lvl_Dungeon_Main`.

## Особенности (Особенности возникли в связи с неудачным таймингом полученной повестки из-за чего не успел отладить все до красивого состояния, прошу за эти условности в некорректных значениях переменных не судить строго :) ):
1. В текущей репозитории включена **автоперезарядка** (то есть оружие автоматически заряжается полностью если патроны закончились) (Изменяется в Variant_Shooter/Blueprints/Pickups/BP_ShooterWeaponBase: Убрать 2 связи после декремента)
2. <img width="1089" height="320" alt="image" src="https://github.com/user-attachments/assets/6c5d05ed-d0f5-4d42-b267-58752d2ea86a" />

3. В сложной комнате 2 врага, в то время как в обычной - 3 (использовалось при отладке и тестировании), изменяется путем задания базовых значений количества врагов в Blueprints комнат (Изменяется в ProcGenRoom/Dungeon/BP_NormalRoom / ProcGenRoom/Dungeon/BP_HardRoom)
4. Сейчас в игре переменная на количество комнат установлена на 2 для тестов. (Изменяется в ProcGenRoom/Dungeon/BP_DungeonManager)

---

## Процесс генерации комнат:
1. При взаимодействии с коллизией активируется алгоритм для одной из комнат
2. Уничтожается текущая комната
3. Создается комната выбранного типа
4. Персонаж переносится в стартовую точку
5. Запускается цикл создания фиксированного количества врагов
6. После уничтожения заданного количества врагов появляются порталы (отображается Visibility и включается коллизия)
7. Порталы определяются от количества пройденных комнат (если еще не предпоследняя комната - 2 портала, иначе - 1 в комнату с боссом)

## Заимствования:
Из шаблона **Variant Shooter (UE5)** были взяты:
1. First Person для персонажа, чтобы он мог бегать, прыгать и стрелять.
2. HUD для отображения HP и количества патронов
3. Grenade Weapon для реализации Cabbage Blaster
4. Также проджектайлы Grenade Weapon используются для босса.
